{"ast":null,"code":"var _jsxFileName = \"/Users/arthurbarre/dev/hetic/machineavapeur/src/scenes/coal/coal.jsx\";\nimport React, { useEffect } from \"react\";\nimport MecaSrc from \"../../assets/meca.png\";\nimport { useState } from \"react\";\nimport { InfiniteScroll, CoalWrapper, MecaContainer, MecaWrapper, MecaElem } from \"./coalStyle\";\nlet mecaSize = [{\n  width: \"100\",\n  display: false\n}, {\n  width: \"200\",\n  display: false\n}, {\n  width: \"400\",\n  display: false\n}, {\n  width: \"600\",\n  display: false\n}, {\n  width: \"900\",\n  display: false\n}, {\n  width: \"1200\",\n  display: false\n}];\n\nconst Coal = () => {\n  const [mecas, setMecas] = useState(mecaSize);\n\n  const addAMeca = i => {\n    let newMecas = [...mecas, mecaSize[i].display = true];\n    setMecas(newMecas);\n  };\n\n  const removeMeca = i => {\n    let newMecas = [...mecas, mecaSize[i].display = false];\n    setMecas(newMecas);\n  };\n\n  let lastScroll = 0;\n\n  const handleScroll = () => {\n    const position = window.pageYOffset;\n    let upDirrection = false;\n\n    if (lastScroll < position) {\n      upDirrection = true;\n    }\n\n    if (position > 100 && upDirrection) addAMeca(0);\n    if (position > 300 && upDirrection) addAMeca(1);\n    if (position > 400 && upDirrection) addAMeca(2);\n    if (position > 500 && upDirrection) addAMeca(3);\n    if (position > 600 && upDirrection) addAMeca(4);\n    if (position > 100 && position < 120 && !upDirrection) removeMeca(0);\n    if (position > 300 && position < 320 && !upDirrection) removeMeca(1);\n    if (position > 400 && position < 420 && !upDirrection) removeMeca(2);\n    if (position > 500 && position < 520 && !upDirrection) removeMeca(3);\n    if (position > 600 && position < 620 && !upDirrection) removeMeca(4);\n    lastScroll = position;\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll, {\n      passive: true\n    });\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n  console.log(mecas);\n  return /*#__PURE__*/React.createElement(InfiniteScroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CoalWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MecaContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MecaWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, mecas.map(m => {\n    return /*#__PURE__*/React.createElement(MecaElem, {\n      width: m && m.width,\n      display: m && m.display,\n      src: MecaSrc,\n      alt: \"meca\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    });\n  })))));\n};\n\nexport default Coal;","map":{"version":3,"sources":["/Users/arthurbarre/dev/hetic/machineavapeur/src/scenes/coal/coal.jsx"],"names":["React","useEffect","MecaSrc","useState","InfiniteScroll","CoalWrapper","MecaContainer","MecaWrapper","MecaElem","mecaSize","width","display","Coal","mecas","setMecas","addAMeca","i","newMecas","removeMeca","lastScroll","handleScroll","position","window","pageYOffset","upDirrection","addEventListener","passive","removeEventListener","console","log","map","m"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SACEC,cADF,EAEEC,WAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,QALF,QAMO,aANP;AAQA,IAAIC,QAAQ,GAAG,CACb;AACEC,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CADa,EAKb;AACED,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CALa,EASb;AACED,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CATa,EAab;AACED,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CAba,EAiBb;AACED,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CAjBa,EAqBb;AACED,EAAAA,KAAK,EAAE,MADT;AAEEC,EAAAA,OAAO,EAAE;AAFX,CArBa,CAAf;;AA2BA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAACM,QAAD,CAAlC;;AAEA,QAAMM,QAAQ,GAAIC,CAAD,IAAO;AACtB,QAAIC,QAAQ,GAAG,CAAC,GAAGJ,KAAJ,EAAYJ,QAAQ,CAACO,CAAD,CAAR,CAAYL,OAAZ,GAAsB,IAAlC,CAAf;AACAG,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACD,GAHD;;AAKA,QAAMC,UAAU,GAAIF,CAAD,IAAO;AACxB,QAAIC,QAAQ,GAAG,CAAC,GAAGJ,KAAJ,EAAYJ,QAAQ,CAACO,CAAD,CAAR,CAAYL,OAAZ,GAAsB,KAAlC,CAAf;AACAG,IAAAA,QAAQ,CAACG,QAAD,CAAR;AACD,GAHD;;AAKA,MAAIE,UAAU,GAAG,CAAjB;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzB,UAAMC,QAAQ,GAAGC,MAAM,CAACC,WAAxB;AACA,QAAIC,YAAY,GAAG,KAAnB;;AAEA,QAAIL,UAAU,GAAGE,QAAjB,EAA2B;AACzBG,MAAAA,YAAY,GAAG,IAAf;AACD;;AAED,QAAIH,QAAQ,GAAG,GAAX,IAAkBG,YAAtB,EAAoCT,QAAQ,CAAC,CAAD,CAAR;AACpC,QAAIM,QAAQ,GAAG,GAAX,IAAkBG,YAAtB,EAAoCT,QAAQ,CAAC,CAAD,CAAR;AACpC,QAAIM,QAAQ,GAAG,GAAX,IAAkBG,YAAtB,EAAoCT,QAAQ,CAAC,CAAD,CAAR;AACpC,QAAIM,QAAQ,GAAG,GAAX,IAAkBG,YAAtB,EAAoCT,QAAQ,CAAC,CAAD,CAAR;AACpC,QAAIM,QAAQ,GAAG,GAAX,IAAkBG,YAAtB,EAAoCT,QAAQ,CAAC,CAAD,CAAR;AAEpC,QAAIM,QAAQ,GAAG,GAAX,IAAkBA,QAAQ,GAAG,GAA7B,IAAoC,CAACG,YAAzC,EAAuDN,UAAU,CAAC,CAAD,CAAV;AACvD,QAAIG,QAAQ,GAAG,GAAX,IAAkBA,QAAQ,GAAG,GAA7B,IAAoC,CAACG,YAAzC,EAAuDN,UAAU,CAAC,CAAD,CAAV;AACvD,QAAIG,QAAQ,GAAG,GAAX,IAAkBA,QAAQ,GAAG,GAA7B,IAAoC,CAACG,YAAzC,EAAuDN,UAAU,CAAC,CAAD,CAAV;AACvD,QAAIG,QAAQ,GAAG,GAAX,IAAkBA,QAAQ,GAAG,GAA7B,IAAoC,CAACG,YAAzC,EAAuDN,UAAU,CAAC,CAAD,CAAV;AACvD,QAAIG,QAAQ,GAAG,GAAX,IAAkBA,QAAQ,GAAG,GAA7B,IAAoC,CAACG,YAAzC,EAAuDN,UAAU,CAAC,CAAD,CAAV;AAEvDC,IAAAA,UAAU,GAAGE,QAAb;AACD,GArBD;;AAuBApB,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,MAAM,CAACG,gBAAP,CAAwB,QAAxB,EAAkCL,YAAlC,EAAgD;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAAhD;AAEA,WAAO,MAAM;AACXJ,MAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqCP,YAArC;AACD,KAFD;AAGD,GANQ,EAMN,EANM,CAAT;AAQAQ,EAAAA,OAAO,CAACC,GAAR,CAAYhB,KAAZ;AACA,sBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KAAK,CAACiB,GAAN,CAAWC,CAAD,IAAO;AAChB,wBACE,oBAAC,QAAD;AACE,MAAA,KAAK,EAAEA,CAAC,IAAIA,CAAC,CAACrB,KADhB;AAEE,MAAA,OAAO,EAAEqB,CAAC,IAAIA,CAAC,CAACpB,OAFlB;AAGE,MAAA,GAAG,EAAET,OAHP;AAIE,MAAA,GAAG,EAAC,MAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAQD,GATA,CADH,CADF,CADF,CADF,CADF;AAoBD,CAnED;;AAqEA,eAAeU,IAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport MecaSrc from \"../../assets/meca.png\";\nimport { useState } from \"react\";\nimport {\n  InfiniteScroll,\n  CoalWrapper,\n  MecaContainer,\n  MecaWrapper,\n  MecaElem,\n} from \"./coalStyle\";\n\nlet mecaSize = [\n  {\n    width: \"100\",\n    display: false,\n  },\n  {\n    width: \"200\",\n    display: false,\n  },\n  {\n    width: \"400\",\n    display: false,\n  },\n  {\n    width: \"600\",\n    display: false,\n  },\n  {\n    width: \"900\",\n    display: false,\n  },\n  {\n    width: \"1200\",\n    display: false,\n  },\n];\n\nconst Coal = () => {\n  const [mecas, setMecas] = useState(mecaSize);\n\n  const addAMeca = (i) => {\n    let newMecas = [...mecas, (mecaSize[i].display = true)];\n    setMecas(newMecas);\n  };\n\n  const removeMeca = (i) => {\n    let newMecas = [...mecas, (mecaSize[i].display = false)];\n    setMecas(newMecas);\n  };\n\n  let lastScroll = 0;\n\n  const handleScroll = () => {\n    const position = window.pageYOffset;\n    let upDirrection = false;\n    \n    if (lastScroll < position) {\n      upDirrection = true;\n    }\n\n    if (position > 100 && upDirrection) addAMeca(0);\n    if (position > 300 && upDirrection) addAMeca(1);\n    if (position > 400 && upDirrection) addAMeca(2);\n    if (position > 500 && upDirrection) addAMeca(3);\n    if (position > 600 && upDirrection) addAMeca(4);\n\n    if (position > 100 && position < 120 && !upDirrection) removeMeca(0);\n    if (position > 300 && position < 320 && !upDirrection) removeMeca(1);\n    if (position > 400 && position < 420 && !upDirrection) removeMeca(2);\n    if (position > 500 && position < 520 && !upDirrection) removeMeca(3);\n    if (position > 600 && position < 620 && !upDirrection) removeMeca(4);\n\n    lastScroll = position;\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  console.log(mecas);\n  return (\n    <InfiniteScroll>\n      <CoalWrapper>\n        <MecaContainer>\n          <MecaWrapper>\n            {mecas.map((m) => {\n              return (\n                <MecaElem\n                  width={m && m.width}\n                  display={m && m.display}\n                  src={MecaSrc}\n                  alt=\"meca\"\n                />\n              );\n            })}\n          </MecaWrapper>\n        </MecaContainer>\n      </CoalWrapper>\n    </InfiniteScroll>\n  );\n};\n\nexport default Coal;\n"]},"metadata":{},"sourceType":"module"}