{"ast":null,"code":"var _jsxFileName = \"/Users/arthurbarre/dev/hetic/machineavapeur/src/scenes/coal/coal.jsx\";\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MecaSrc from \"../../assets/meca.png\";\nimport { useState } from \"react\";\nconst InfiniteScroll = styled.section`\n  height: 300vh;\n  z-index: -1000;\n`;\nconst CoalWrapper = styled.section`\n  position: fixed;\n  width: 100vw;\n  min-height: 100vh;\n  background-color: #d8d6c8;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst MecaContainer = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst MecaWrapper = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst MecaElem = styled.img`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${props => props.width}px;\n  display: ${({\n  display\n}) => display ? \"flex\" : \"none\"};\n  transform: scale(0.8);\n`;\nlet mecaSize = [{\n  width: \"100\",\n  display: false\n}, {\n  width: \"200\",\n  display: false\n}, {\n  width: \"400\",\n  display: false\n}, {\n  width: \"600\",\n  display: false\n}, {\n  width: \"900\",\n  display: false\n}, {\n  width: \"1200\",\n  display: false\n}];\n\nconst Coal = () => {\n  const [mecas, setMecas] = useState(mecaSize);\n\n  const addAMeca = i => {\n    let newMecas = [...mecas, mecaSize[i].display = true];\n    setMecas(newMecas);\n  };\n\n  const removeMeca = i => {\n    const result = words.filter(word => word.length > 6);\n    let newMecas = [...mecas, mecaSize[i].display = true];\n    setMecas(newMecas);\n  };\n\n  let lastScroll = 0;\n\n  const handleScroll = () => {\n    const position = window.pageYOffset;\n    let upDirrection = false;\n\n    if (lastScroll < position) {\n      upDirrection = true;\n    }\n\n    if (position > 100 && position < 120 && upDirrection) addAMeca(0);\n    if (position > 300 && position < 320 && upDirrection) addAMeca(1);\n    if (position > 400 && position < 420 && upDirrection) addAMeca(2);\n    if (position > 500 && position < 520 && upDirrection) addAMeca(3);\n    if (position > 600 && position < 620 && upDirrection) addAMeca(4);\n    if (position > 100 && position < 120 && !upDirrection) removeMeca(0);\n    if (position > 300 && position < 320 && !upDirrection) removeMeca(1);\n    if (position > 400 && position < 420 && !upDirrection) removeMeca(2);\n    if (position > 500 && position < 520 && !upDirrection) removeMeca(3);\n    if (position > 600 && position < 620 && !upDirrection) removeMeca(4);\n    lastScroll = position;\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll, {\n      passive: true\n    });\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n  console.log(mecas);\n  return /*#__PURE__*/React.createElement(InfiniteScroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CoalWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MecaContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MecaWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, mecas.map(m => {\n    return /*#__PURE__*/React.createElement(MecaElem, {\n      width: m && m.width,\n      display: m && m.display,\n      src: MecaSrc,\n      alt: \"meca\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    });\n  })))));\n};\n\nexport default Coal;","map":{"version":3,"sources":["/Users/arthurbarre/dev/hetic/machineavapeur/src/scenes/coal/coal.jsx"],"names":["React","useEffect","styled","MecaSrc","useState","InfiniteScroll","section","CoalWrapper","MecaContainer","div","MecaWrapper","MecaElem","img","props","width","display","mecaSize","Coal","mecas","setMecas","addAMeca","i","newMecas","removeMeca","result","words","filter","word","length","lastScroll","handleScroll","position","window","pageYOffset","upDirrection","addEventListener","passive","removeEventListener","console","log","map","m"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport MecaSrc from \"../../assets/meca.png\";\nimport { useState } from \"react\";\n\nconst InfiniteScroll = styled.section`\n  height: 300vh;\n  z-index: -1000;\n`;\n\nconst CoalWrapper = styled.section`\n  position: fixed;\n  width: 100vw;\n  min-height: 100vh;\n  background-color: #d8d6c8;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst MecaContainer = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst MecaWrapper = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst MecaElem = styled.img`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${(props) => props.width}px;\n  display: ${({ display }) => (display ? \"flex\" : \"none\")};\n  transform: scale(0.8);\n`;\nlet mecaSize = [\n  {\n    width: \"100\",\n    display: false,\n  },\n  {\n    width: \"200\",\n    display: false,\n  },\n  {\n    width: \"400\",\n    display: false,\n  },\n  {\n    width: \"600\",\n    display: false,\n  },\n  {\n    width: \"900\",\n    display: false,\n  },\n  {\n    width: \"1200\",\n    display: false,\n  },\n];\n\nconst Coal = () => {\n  const [mecas, setMecas] = useState(mecaSize);\n\n  const addAMeca = (i) => {\n    let newMecas = [...mecas, (mecaSize[i].display = true)];\n    setMecas(newMecas);\n  };\n\n  const removeMeca = (i) => {\n    const result = words.filter((word) => word.length > 6);\n    let newMecas = [...mecas, (mecaSize[i].display = true)];\n    setMecas(newMecas);\n  };\n\n  let lastScroll = 0;\n\n  const handleScroll = () => {\n    const position = window.pageYOffset;\n    let upDirrection = false;\n    if (lastScroll < position) {\n      upDirrection = true;\n    }\n    if (position > 100 && position < 120 && upDirrection) addAMeca(0);\n    if (position > 300 && position < 320 && upDirrection) addAMeca(1);\n    if (position > 400 && position < 420 && upDirrection) addAMeca(2);\n    if (position > 500 && position < 520 && upDirrection) addAMeca(3);\n    if (position > 600 && position < 620 && upDirrection) addAMeca(4);\n    if (position > 100 && position < 120 && !upDirrection) removeMeca(0);\n    if (position > 300 && position < 320 && !upDirrection) removeMeca(1);\n    if (position > 400 && position < 420 && !upDirrection) removeMeca(2);\n    if (position > 500 && position < 520 && !upDirrection) removeMeca(3);\n    if (position > 600 && position < 620 && !upDirrection) removeMeca(4);\n    lastScroll = position;\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  console.log(mecas);\n  return (\n    <InfiniteScroll>\n      <CoalWrapper>\n        <MecaContainer>\n          <MecaWrapper>\n            {mecas.map((m) => {\n              return (\n                <MecaElem\n                  width={m && m.width}\n                  display={m && m.display}\n                  src={MecaSrc}\n                  alt=\"meca\"\n                />\n              );\n            })}\n          </MecaWrapper>\n        </MecaContainer>\n      </CoalWrapper>\n    </InfiniteScroll>\n  );\n};\n\nexport default Coal;\n"]},"metadata":{},"sourceType":"module"}